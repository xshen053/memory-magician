# This "input" configures a global authorization rule to enable public access to
# all models in this schema. Learn more about authorization rules here: https://docs.amplify.aws/cli/graphql/authorization-rules
input AMPLIFY { globalAuthRule: AuthRule = { allow: public } } # FOR TESTING ONLY!

type User @model {
  id: ID!
  username: String!
  phoneNumber: String
  name: String!
  cards: [Card] @hasMany
  createdAt: AWSDateTime
  updatedAt: AWSDateTime
}


type Card @model {
  id: ID!
  content: String!
  user: User! @belongsTo
  date: [ReviewDate!]! @manyToMany(relationName: "CardDates")         # date is non-nullable
  tags: [Tag] @manyToMany(relationName: "CardTags")
  type: CardType!        # {daily task, don't need review task, general task}
}

type ReviewDate @model {
  id: ID!
  card: [Card]  @manyToMany(relationName: "CardDates")
  reviewDate: AWSDateTime
}


type Tag @model {
  id: ID!
  name: String!
  cards: [Card]  @manyToMany(relationName: "CardTags")
}


enum CardType {
 DAILY
 GENERAL
 NOREVIEW
}
